{"version":3,"file":"simple-vue.cjs.js","sources":["../src/runtime-core/vnode.ts","../src/runtime-core/h.ts","../src/runtime-core/helpers/renderSlots.ts","../src/runtime-core/helpers/renderText.ts","../src/shared/index.ts","../src/reactivity/effect.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/runtime-core/componentEmit.ts","../src/runtime-core/componentProps.ts","../src/runtime-core/componentPublicInstance.ts","../src/runtime-core/componentSlots.ts","../src/runtime-core/component.ts","../src/runtime-core/apiInject.ts","../src/runtime-core/createApp.ts","../src/runtime-core/renderer.ts","../src/runtime-dom/index.ts","../src/reactivity/ref.ts"],"sourcesContent":["import { ShapeFlags } from \"../shared/ShapeFlags\"\n\nexport const Fargment = Symbol('fragment')\nexport const Text = Symbol('text')\n\nexport function createVNode(type, props?, children?) {\n  const vnode = {\n    type,\n    props,\n    children,\n    shapeFlag: getShapeFlag(type),\n    el: null\n  }\n\n  if (typeof children === 'string'){\n    vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN\n  }\n  else if (Array.isArray(children)){\n    vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN\n  }\n\n  if((vnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT) && typeof children === 'object') {\n    vnode.shapeFlag |= ShapeFlags.SLOTS_CHILDREN\n  }\n\n  return vnode\n}\n\nfunction getShapeFlag(type: any) {\n  return typeof type === 'string' ?\n    ShapeFlags.ELEMENT :  ShapeFlags.STATEFUL_COMPONENT\n}\n\n","\nimport { createVNode } from \"./vnode\";\n\nexport function h (type: any, props?: any, children?: any) {\n\n  // 创建虚拟节点\n  const vnode = createVNode(type, props, children)\n\n  return vnode\n}","import { createVNode, Fargment } from \"../vnode\";\n\nexport function renderSlots (slots, name, props) {\n  let slot = slots[name];\n  if (slot) {\n    if (typeof slot === 'function') {\n      slot = slot(props)\n    }\n\n    // children is an array of slot objects\n    return createVNode(Fargment, {}, slot)\n  }\n}","import { createVNode, Text } from \"../vnode\";\n\nexport function renderText(str: string) {\n  return createVNode(Text, {}, str)\n}","export const extend = Object.assign;\n\nexport function isObject(obj: unknown){\n  return obj instanceof Object && obj !== null\n}\n\nexport function hasChanged(value, oldValue) {\n  return !Object.is(value, oldValue);\n}\n\nexport const hasOwn = (value: any, key: string) => Object.prototype.hasOwnProperty.call(value, key)\n\nexport const camelize = (str: string) => {\n  return str.replace(/-(\\w)/g, (all, letter: string) => {\n    return letter ? letter.toUpperCase() : ''\n  })\n}\n\nconst capitalize = (str: string) => {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\nexport const toHandlerKey = (key: string) => {\n  return `on${capitalize(key)}`\n}","import { extend } from \"../shared\"\n\nlet shouldTrack: boolean = false\nlet effectFun: EffectReactive\nexport class EffectReactive {\n  private _fun: Ifun\n  active: boolean = true\n  onStop?: () => void\n  deps: Array<Set<EffectReactive>> = []\n  constructor(fun: Ifun, public scheduler?){\n    this._fun = fun\n  }\n\n  run() {\n    // 如果active为flase则不需要收集依赖， 直接执行_run方法\n    if(!this.active) {\n      return this._fun();\n    }\n    // 否则将shoudTrack置为true，则track方法执行时会收集依赖\n    shouldTrack = true\n\n    effectFun = this\n    // 执行_fun方法获取返回值，此时track已经执行并收集依赖完成\n    let res = this._fun()\n    // 将shouldTrack再次重置为false，以便下次执行时判断\n    shouldTrack = false\n\n    return res\n  }\n\n  stop(){\n    // 移除对应收集的依赖方法\n    if(this.deps.length){\n      if(this.active){\n        this.active = false\n        deleteupEffect(this)\n        if (this.onStop) {\n          this.onStop()\n        }\n      }\n    }\n  }\n}\n\nfunction deleteupEffect(effect: EffectReactive) {\n  effect.deps.forEach(item => {\n    item.delete(effect)\n  })\n}\n\n\nexport function effect (fun: Ifun, options: IeffectOptions = {}) {\n\n  const _effect: EffectReactive = new EffectReactive(fun, options?.scheduler)\n\n  // 将options中的onStop方法赋值给EffectReactive\n  // _effect.onStop = options?.onStop\n  extend(_effect, options)\n\n  _effect.run()\n\n  const runner = _effect.run.bind(_effect) as IeffectReactiveRunner\n  // 将EffectReactive实例绑定到runner函数上，方便调用stop函数\n  runner.effect = _effect\n\n  return runner\n\n}\n\nexport function stop (runner: IeffectReactiveRunner) {\n  runner.effect.stop() // 调用stop方法\n}\n\nconst refectMap: Map<Iraw, Map<string, Set<EffectReactive>>> = new Map()\n// 收集依赖\nexport function track (target: Iraw, key: string) {\n  // 当只触发get方法时，不调用effect函数时，未实例化EffectReactive，effectFun is undefined\n  // 当为undefined时直接返回\n  if(!isTracking()) return\n\n  let depsMap = refectMap.get(target)\n  if(!depsMap) {\n    depsMap = new Map()\n    refectMap.set(target, depsMap)\n  }\n\n  let dep = depsMap.get(key)\n  if(!dep) {\n    dep = new Set()\n    depsMap.set(key, dep)\n  }\n\n  trackEffect(dep)\n}\n\nexport function trackEffect(dep) {\n  dep.add(effectFun)\n  // 反向收集保存一下dep\n  effectFun.deps.push(dep)\n}\n\n// 验证是否收集依赖\n// 如果有一个为false则停止收集依赖\nexport function isTracking() {\n  return shouldTrack && !!effectFun\n}\n\n// 触发依赖\nexport function trigger (target: Iraw, key: string, value: any) {\n  const depsMap = refectMap?.get(target)\n  const dep = depsMap?.get(key)\n  if(dep) triggerEffect(dep)\n}\n\nexport function triggerEffect(dep){\n  for (const item of dep) {\n    if(item.scheduler){\n      item.scheduler()\n    } else {\n      item.run()\n    }\n  }\n}","import { extend, isObject } from \"../shared/index\"\nimport { track, trigger } from \"./effect\"\nimport { reactive, ReactiveFlags, readonly } from \"./reactive\"\n\n\nconst get = createGetter()\nconst set = createSetter()\nconst readonlyGet = createGetter(true)\nconst shallowReadonlyGet = createGetter(true, true)\n\n\n// 创建get方法 通过传入isReadonly参数判断是否只读\nfunction createGetter(isReadonly: boolean = false, shallow:boolean = false) {\n  return function get(target: Iraw, key: string) {\n    // 如果传入的的key是`ReactiveFlags.IS_READONLY`则返回传入的isReadonly\n    if (key === ReactiveFlags.IS_READONLY) {\n      return isReadonly\n    } else if( key === ReactiveFlags.IS_REACTIVE ) {\n      return !isReadonly\n    }\n    const res = Reflect.get(target, key)\n\n    // 如果是readonly则不进行依赖收集\n    if (!isReadonly) {\n      track(target, key)\n    }\n\n    // 如果是shallow包装的类型 直接返回 \n    if (shallow) {\n      return res\n    }\n\n    // res如果是对象，则将循环嵌套\n    if(isObject(res)){\n      // 根据isreadonly判断是否是只读\n      return isReadonly ? readonly(res) : reactive(res)\n    }\n\n    return res\n  }\n}\n// 创建set函数\nfunction createSetter() {\n  return function set(target: Iraw, key: string, value: any) {\n    const res = Reflect.set(target, key, value)\n    trigger(target, key, value)\n    return res\n  }\n}\n\n\nexport function mutableHandlers () {\n  return {\n    get,\n    set\n  }\n}\n/**\n * 处理readonly包装返回proxy的option\n * @returns {}\n */\nexport function readonlyHandlers () {\n  return {\n    get: readonlyGet,\n    set(target: Iraw, key: string, value: any) {\n      console.warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      )\n      return true\n    }\n  }\n}\n\nexport function shallowReadonlyHandlers () {\n  return extend(readonlyHandlers(), {\n    get: shallowReadonlyGet\n  })\n}","import { isObject } from \"../shared/index\";\nimport { mutableHandlers, readonlyHandlers, shallowReadonlyHandlers } from \"./baseHandlers\";\n\nexport const enum ReactiveFlags {\n  IS_REACTIVE = \"__v_isReactive\",\n  IS_READONLY = \"__v_isReadonly\",\n}\n\n/**\n * 将传入的对象包装成响应式的\n * @param raw\n * @returns\n */\nexport function reactive (raw: Iraw) {\n  return createReactiveObject(raw, mutableHandlers())\n}\n\n// 将传入的对象包装成只读的对象\nexport function readonly(raw: Iraw) {\n  return createReactiveObject(raw, readonlyHandlers())\n}\n\nexport function shallowReadonly(raw: Iraw) {\n  return createReactiveObject(raw, shallowReadonlyHandlers())\n}\n\n\nexport function isReactive(raw: Iraw) {\n  return !!raw[ReactiveFlags.IS_REACTIVE]\n}\n\n\n/**\n * 验证传入的raw对象是否是readonly包装的对象\n * @param raw 对象\n * @returns boolean\n */\nexport function isReadonly(raw: Iraw) {\n  // 当不是一个proxy包装的对象会返回undefined\n  // 这里对返回值求两次反转换成boolean值\n  return !!raw[ReactiveFlags.IS_READONLY]\n}\n\nexport function isProxy(raw) {\n  return isReactive(raw) || isReadonly(raw)\n}\n\nfunction createReactiveObject(raw: Iraw, baseHandler) {\n  if (!isObject(raw)) {\n    console.warn(`[vue-reactivity] value cannot be made reactive: ${raw}`);\n    return raw\n  }\n  return new Proxy(raw, baseHandler)\n}","import { camelize, toHandlerKey } from \"../shared/index\";\n\n\nexport function emit (instance, event, ...args: any[]) {\n\n  const { props } = instance\n\n  const handlerKey = toHandlerKey(camelize(event))\n  const handler = props[handlerKey]\n\n  handler && handler(...args);\n}","\nexport function initProps (instance: any, rawProps: any): void {\n  instance.props = rawProps || {}\n}","import { hasOwn } from \"../shared/index\"\n\nconst publicPropertiesMap = {\n  $el: (i) => i.vnode.el,\n  $slots: (i) => i.slots\n}\n\nexport const PublicInstanceProxyHandlers = {\n  get ({ _: instance }, key) {\n    const { setupState, props } = instance\n\n    if(hasOwn(setupState, key)) {\n      return setupState[key]\n    }\n    else if(hasOwn(props, key)) {\n      return props[key]\n    }\n\n    const publicGetter = publicPropertiesMap[key]\n    // 验证publicGetter是否存在\n    if(publicGetter) {\n      return publicGetter(instance)\n    }\n  }\n}","import { ShapeFlags } from \"../shared/ShapeFlags\";\n\nexport function initSlots (instance, children) {\n\n  if (instance.vnode.shapeFlag & ShapeFlags.SLOTS_CHILDREN) {\n    normalizeObjectSlots(children, instance.slots)\n  }\n\n}\n\nfunction normalizeObjectSlots (children, slots) {\n\n  for (const key in children) {\n    console.log(key);\n    const value = children[key]\n    slots[key] = (props) => normalizeSlotsValue(value(props))\n  }\n}\n\nfunction normalizeSlotsValue (value) {\n  return Array.isArray(value) ? value : [value]\n}\n","import { shallowReadonly } from \"../reactivity/reactive\"\nimport { emit } from \"./componentEmit\"\nimport { initProps } from \"./componentProps\"\nimport { PublicInstanceProxyHandlers } from \"./componentPublicInstance\"\nimport { initSlots } from \"./componentSlots\"\n\nexport function createComponentInstance(vnode: any, parent: any) {\n  console.log(parent);\n  const component = {\n    vnode,\n    type: vnode.type,\n    setupState: {},\n    props: {},\n    slots: {},\n    parent,\n    provides: parent ? parent.provides : {},\n    emit: () => {},\n  }\n\n  component.emit = emit.bind(null, component) as any\n\n  return component\n}\n\nexport function setupComponent(instance: any) {\n  // TODO\n  // 初始化props\n  initProps(instance, instance.vnode.props)\n\n  // 初始化slots\n  initSlots(instance, instance.vnode.children)\n  //\n  setupStatefulComponent(instance)\n}\n\nfunction setupStatefulComponent(instance: any) {\n\n  const { setup } = instance.type\n\n  // 设置代理对象\n  instance.proxy = new Proxy({ _ : instance}, PublicInstanceProxyHandlers)\n\n  if(setup) {\n    setCurrentInstance(instance)\n    const setupResult = setup(shallowReadonly(instance.props), {\n      emit: instance.emit\n    })\n    handlerSetupResult(instance, setupResult)\n    setCurrentInstance(null)\n  }\n}\n\nfunction handlerSetupResult(instance: any, setupResult: any) {\n  // 这里传过来的setupResult可能是个函数或对象\n\n  if(typeof setupResult === 'object') {\n    instance.setupState = setupResult\n  }\n\n  // TODO\n  // 如果是函数，则当成render函数渲染\n\n  finishComponentSetup(instance)\n}\n\nfunction finishComponentSetup(instance: any) {\n  const Component = instance.type\n\n  // if(Component.render) {\n    instance.render = Component.render\n  // }\n}\n\nlet currentInstance = null\n\nfunction setCurrentInstance(instance: any) {\n  currentInstance = instance\n}\n\nexport function getCurrentInstance() {\n  return currentInstance\n}\n\n\n\n\n\n","import { getCurrentInstance } from \"./component\"\n\nexport function provide (key: string, value: any) {\n  //\n  const instance: any = getCurrentInstance()\n\n  if (instance) {\n    let { provides }  = instance\n    const parentProvides = instance.parent.provides\n\n    if (provides == parentProvides) {\n      provides = instance.provides = Object.create(parentProvides || {})\n    }\n\n    provides[key] = value;\n  }\n}\n\nexport function inject (key: string, defaultValue: any) {\n\n  const instance: any = getCurrentInstance()\n\n  if (instance) {\n    const parentProvides = instance.parent.provides\n\n    if (key in parentProvides) {\n      return parentProvides[key]\n    }else if (defaultValue) {\n      if (typeof defaultValue === 'function') {\n        return defaultValue()\n      }\n      return defaultValue\n    }\n  }\n\n}","import { createVNode } from \"./vnode\"\n\nexport function createAppApi ( render: any ) {\n  return function createApp(rootComponent) {\n    return {\n      mount(container: Element | string) {\n        let rootContainer: Element | null = null\n        if (typeof container == 'string') {\n          rootContainer = document.querySelector(container)\n        }else {\n          rootContainer = container\n        }\n        if (!rootContainer) {\n          throw new Error(`找不到指定的dom元素: ${container}`)\n        }\n        // 先将根组件转化成虚拟节点\n        const vnode = createVNode(rootComponent)\n        // 渲染节点\n        render(vnode, rootContainer)\n      }\n    }\n  }\n}\n\n\n\n\n\n\n","import { isObject } from \"../shared/index\"\nimport { ShapeFlags } from \"../shared/ShapeFlags\"\nimport { createComponentInstance, setupComponent } from \"./component\"\nimport { createAppApi } from \"./createApp\"\nimport { h } from \"./h\"\nimport { Fargment, Text } from \"./vnode\"\n\nexport function createRenderer ( options: any ) {\n\n  const {\n    createElement,\n    pathProps,\n    insert\n  } = options\n\n  // 将虚拟节点渲染到真实dom\n  function render (vnode, container, parentComponent = {}) {\n    // patch\n    path(vnode, container, parentComponent)\n  }\n\n  function path(vnode, container, parentComponent) {\n    const { type, shapeFlag } = vnode\n    // 处理组件\n    /**\n     * 通过vnode.type判断是否是组件\n     */\n      switch (type) {\n        case Fargment:\n          processFargment(vnode, container, parentComponent);\n          break;\n        case Text:\n          processText(vnode, container);\n          break;\n        default:\n          if(shapeFlag & ShapeFlags.ELEMENT) {\n            processElement(vnode, container, parentComponent)\n          }\n          // 若type类型是object 则说明vnode是组件类型 调用processComponent处理组件\n          else if(shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n            processComponent(vnode, container, parentComponent)\n          }\n          break;\n      }\n  }\n\n  function processFargment(vnode: any, container: any, parentComponent: any) {\n    mountChildren(vnode, container, parentComponent)\n  }\n\n  function processText(vnode: any, container: any) {\n    const { children } = vnode\n\n    const el = document.createTextNode(children)\n\n    container.appendChild(el)\n  }\n\n\n  function processElement(vnode: any, container: any, parentComponent: any) {\n    mountElement(vnode, container, parentComponent)\n  }\n\n  function mountElement(vnode: any, container: any, parentComponent: any) {\n    // canvas\n\n    const { type, props, children, shapeFlag } = vnode\n\n    const el = createElement(type)\n\n    vnode.el = el;\n\n    if(shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n      el.textContent = children\n    }\n    else if(shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n      mountChildren(vnode, el, parentComponent)\n    }\n\n    for (const key in props) {\n      const val = props[key]\n      // const isOn = (key: string) => /^on[A-Z]/.test(key)\n      // if (isOn(key)) {\n      //   const event = key.slice(2).toLowerCase()\n      //   el.addEventListener(event, _key)\n      // }\n      // else {\n      //   el.setAttribute(key, _key)\n      // }\n      pathProps(el, key, val)\n    }\n\n    insert(el, container)\n    // container.appendChild(el)\n\n  }\n\n  function mountChildren(vnode, container, parentComponent) {\n    vnode.children.map(v => path(v, container, parentComponent))\n  }\n\n  function processComponent(vnode: any, container: any, parentComponent: any) {\n    // 挂载组件\n    mountComponent(vnode, container, parentComponent)\n  }\n\n  function mountComponent(initialVnode: any, container: any, parentComponent: any) {\n    const instance = createComponentInstance(initialVnode, parentComponent)\n\n    setupComponent(instance)\n\n    setupRenderEffect(instance, initialVnode, container)\n  }\n\n  function setupRenderEffect(instance: any, initialVnode: any, container: any) {\n\n    const { proxy } = instance\n\n    // render函数\n    const subTree = instance.render.bind(proxy)(h)\n\n    // TODO\n    // 可能是templete\n\n    // vnode -> path\n    // vnode -> element -> mountElement\n    path(subTree, container, instance)\n\n    initialVnode.el = subTree.el\n  }\n\n  return {\n    createApp: createAppApi(render)\n  }\n}","import { createRenderer } from '../runtime-core'\n\nfunction createElement (type: string) {\n  return document.createElement(type)\n}\n\nfunction pathProps (el, key: string, value: string) {\n  const isOn = (key: string) => /^on[A-Z]/.test(key)\n  if (isOn(key)) {\n    const event = key.slice(2).toLowerCase()\n    el.addEventListener(event, value)\n  }\n  else {\n    el.setAttribute(key, value)\n  }\n}\n\nfunction insert (el, container) {\n  container.appendChild(el)\n}\n\nconst renderer: any = createRenderer({\n                        createElement,    // 创建元素\n                        pathProps,       // 设置属性\n                        insert,          // 插入元素\n                      })\n\nexport function createApp (...args) {\n  return renderer.createApp(...args)\n}\n\nexport * from '../runtime-core'","import { hasChanged, isObject } from \"../shared\"\nimport { isTracking, trackEffect, triggerEffect } from \"./effect\"\nimport { reactive } from \"./reactive\"\n\nclass RefImpl {\n  private _value: any\n  private dep\n  private _rawValue\n  public __v_isRef = true\n  constructor(val){\n    this.dep = new Set()\n    this._rawValue = val\n    this._value = isObject(val) ? reactive(val) : val\n  }\n\n  get value () {\n\n    // 收集依赖\n    if (isTracking()) {\n      trackEffect(this.dep)\n    }\n\n    return this._value\n  }\n\n  set value (value: any) {\n    if(hasChanged(this._rawValue, value)){\n      this._rawValue = value\n      this._value = value\n      triggerEffect(this.dep)\n    }\n  }\n}\n\nexport function ref(val) {\n  return new RefImpl(val)\n}\n\nexport function isRef(val: any) {\n  return !!val.__v_isRef\n}\n\nexport function unRef(val: any) {\n  return isRef(val) ?  val.value : val\n}\n\nexport function proxyRefs(ref) {\n  return new Proxy(ref, {\n    get (target, key) {\n      return unRef(Reflect.get(target, key))\n    },\n\n    set (target, key, value) {\n\n      if (isRef(target[key]) && !isRef(value)) {\n        return target[key].value = value\n      }\n      return Reflect.set(target, key, value)\n    }\n\n  })\n}"],"names":[],"mappings":"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"}